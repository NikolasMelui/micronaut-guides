
Alternatively, you can use `Dockerfile`  to construct the native image and a script `docker-build.sh` to run it:

[source,bash]
.Dockerfile
----
include::{sourceDir}/../complete/Dockerfile[]
----

[source,bash]
.docker-build.sh
----
include::{sourceDir}/../complete/docker-build.sh[]
----

[source, bash]
----
$ ./gradlew assemble

$ ./docker-build.sh
Sending build context to Docker daemon  64.67MB
Step 1/9 : FROM oracle/graalvm-ce:19.3.1-java8 as graalvm
 ---> d625000893c9
Step 2/9 : COPY . /home/app/micronautguide
 ---> 4c0daf50c6f3
Step 3/9 : WORKDIR /home/app/micronautguide
 ---> Running in e07cf22b668a
Removing intermediate container e07cf22b668a
 ---> d3699ea8e284
Step 4/9 : RUN gu install native-image
 ---> Running in 71edf17b9a11
Downloading: Component catalog from www.graalvm.org
Processing Component: Native Image
Downloading: Component native-image: Native Image  from github.com
Installing new component: Native Image (org.graalvm.native-image, version 19.3.1)
Refreshed alternative links in /usr/bin/
Removing intermediate container 71edf17b9a11
 ---> ee26c71bbd1e
Step 5/9 : RUN native-image --no-server --static -cp build/libs/complete-*-all.jar
 ---> Running in d2cd451f33be
[micronautguide:28]    classlist:   8,773.36 ms
[micronautguide:28]        (cap):   1,044.04 ms
[micronautguide:28]        setup:   2,748.03 ms
[micronautguide:28]   (typeflow):  20,611.56 ms
[micronautguide:28]    (objects):  20,377.15 ms
[micronautguide:28]   (features):   2,168.30 ms
[micronautguide:28]     analysis:  45,559.16 ms
[micronautguide:28]     (clinit):   1,141.31 ms
[micronautguide:28]     universe:   2,719.10 ms
[micronautguide:28]      (parse):   2,808.15 ms
[micronautguide:28]     (inline):   3,094.66 ms
[micronautguide:28]    (compile):  25,648.31 ms
[micronautguide:28]      compile:  34,018.50 ms
[micronautguide:28]        image:   3,811.46 ms
[micronautguide:28]        write:     643.59 ms
[micronautguide:28]      [total]:  99,095.08 ms
Removing intermediate container d2cd451f33be
 ---> dba5e85ad292
Step 6/9 : FROM scratch
 --->
Step 7/9 : EXPOSE 8080
 ---> Running in 6f95a9b6d2d3
Removing intermediate container 6f95a9b6d2d3
 ---> f13ae3f46891
Step 8/9 : COPY --from=graalvm /home/app/micronautguide/micronautguide /micronautguide/micronautguide
 ---> d80190d488eb
Step 9/9 : ENTRYPOINT ["/micronautguide/micronautguide", "-Xmx68m"]
 ---> Running in 60f22cded514
Removing intermediate container 60f22cded514
 ---> 49dfcbfef605
Successfully built 49dfcbfef605
Successfully tagged micronautguide:latest


To run the docker container execute:
    $ docker run -p 8080:8080 micronautguide
----

You can use docker to run the image with the app's native-image:

[source, bash]
----
 docker run -p 8080:8080 micronautguide
06:58:26.977 [main] INFO  io.micronaut.runtime.Micronaut - Startup completed in 27ms. Server Running: http://f8143044b1ee:8080
----
