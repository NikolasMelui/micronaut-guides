<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>5 Deploy to AWS Lambda null</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <div class="navTitle">
        
        Micronaut Functions deployed in AWS Lambda
    </div>
    <div class="navLinks">
        <ul>
            <li>
                <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                    <a href="../guide/index.html" class="button">Table of contents</a>

                    <div id="nav-summary-childs" style="display:none;">
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/gettingStarted.html"><strong>1</strong><span>Getting Started</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/usingSnapshotVersion.html"><strong>2</strong><span>Using Snapshot Version</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/writingTheLambda.html"><strong>3</strong><span>Writing the Function</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/sam.html"><strong>4</strong><span>Test with SAM CLI</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/awslambda.html"><strong>5</strong><span>Deploy to AWS Lambda</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/writingTheApp.html"><strong>6</strong><span>Writing the App</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/runningTheApp.html"><strong>7</strong><span>Running the app</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/awsApiGateway.html"><strong>8</strong><span>AWS API Gateway</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/nextSteps.html"><strong>9</strong><span>Next Steps</span></a>
                        </div>
                        
                    </div>
                </div>
            </li>
            <li class="separator selected">
                <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
            </li>
        </ul>
    </div>


</div>

<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/sam.html">&lt;&lt; <strong>4</strong><span>Test with SAM CLI</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../guide/writingTheApp.html"><strong>6</strong><span>Writing the App</span> >></a></div>
                


                <div class="project">
                    <h1>5 Deploy to AWS Lambda</h1>

                    <p><strong>Version:</strong> null</p>
                </div>

                

                

<h1 id="awslambda">5 Deploy to AWS Lambda</h1>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/micronaut-guides/micronaut-function-aws-lambda/edit/master/src/main/docs/guide/awslambda.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>Deploy your Micronaut function to <a href="https://aws.amazon.com/lambda/">AWS Lambda</a>.</p>
</div>
<div class="paragraph">
<p>First, create a Function. I select Paris as the region.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../img/step1.png" alt="step1">
</div>
</div>
<div class="paragraph">
<p>Select Java 8 runtime. Name: <code>vies-vat-validator</code> and <code>create a new role form template(s)</code>. I give the role name
<code>lambda_basic_execution</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../img/step2.png" alt="step2">
</div>
</div>
<div class="paragraph">
<p>Configure tests events:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../img/step3.png" alt="step3">
</div>
</div>
<div class="paragraph">
<p>Create a payload with valid data:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../img/step4.png" alt="step4">
</div>
</div>
<div class="paragraph">
<p>Generate a jar file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>`vies-vat-validator $ ./gradlew shadowJar`</pre>
</div>
</div>
<div class="paragraph">
<p>The file is just 12MB ;-)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ du -h build/libs/complete/vies-vat-validator-0.1-all.jar
 12M    build/libs/complete/vies-vat-validator-0.1-all.jar</code></pre>
</div>
</div>
<div class="paragraph">
<p>Upload the JAR as illustrated here:</p>
</div>
<div class="paragraph">
<p>Enter as <code>Handler</code> value <code>io.micronaut.function.aws.MicronautRequestStreamHandler</code>.</p>
</div>
<div class="paragraph">
<p>I have allocated just 256Mb and a timeout of 25s.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../img/step5.png" alt="step5">
</div>
</div>


                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/sam.html">&lt;&lt; <strong>4</strong><span>Test with SAM CLI</span></a></div>
                
                    <div class="toc-item next-right"><a href="../guide/writingTheApp.html"><strong>6</strong><span>Writing the App</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    Copies of this document may be made for your own use and for distribution to others, provided that you do not charge any fee for such copies and further provided that each copy contains this Copyright Notice, whether distributed in print or electronically. All guides are released with an ASLv2 license for the code, and Creative Commons license for the writing. 
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
